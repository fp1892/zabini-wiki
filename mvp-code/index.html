<div class="card">
  <h2>Overview</h2>
  <p class="kicker">
    This document describes the complete technical architecture of the
    Hellcats MVP application. It explains design decisions, data structures,
    security concepts and runtime behavior.
  </p>
</div>

<div class="card">
  <h2>1. Architectural Principles</h2>
  <ul class="small">
    <li>Static frontend (HTML / CSS / ES Modules)</li>
    <li>No server-side backend</li>
    <li>Centralized state stored in Firestore</li>
    <li>Real-time synchronization for all users</li>
    <li>UI-level access control via password gate</li>
  </ul>
</div>

<div class="card">
  <h2>2. Hosting Model</h2>
  <details open>
    <summary>GitHub Pages</summary>
    <p class="small">
      GitHub Pages serves all static assets. No runtime code is executed on the server.
      This guarantees zero hosting costs and high availability.
    </p>
  </details>
  <details>
    <summary>Why no backend?</summary>
    <p class="small">
      Firestore already provides authentication, persistence and real-time sync.
      A backend would only add cost and complexity.
    </p>
  </details>
</div>

<div class="card">
  <h2>3. Firebase Authentication</h2>
  <p class="small">
    The application uses anonymous authentication. This is required so that
    Firestore security rules can distinguish authenticated users from unauthenticated visitors.
  </p>
  <pre><code>signInAnonymously(auth)</code></pre>
</div>

<div class="card">
  <h2>4. Password Gate (UI-Level Security)</h2>
  <p class="small">
    The password gate is a client-side UI barrier. It does not replace Firestore
    security rules, but prevents unauthorized access to the interface.
  </p>
  <ul class="small">
    <li>Password is never stored in plaintext</li>
    <li>SHA-256 hash comparison against Firestore</li>
    <li>Overlay blocks UI until validated</li>
  </ul>
</div>

<div class="card">
  <h2>5. Firestore Data Model</h2>
  <pre><code>
config/security
  passwordHash : string
  adminHash    : string

state/main
  persons      : Person[]
  events       : Event[]
  mvpCooldown  : number

state/undo
  meta
  state
  </code></pre>
</div>

<div class="card">
  <h2>6. Real-Time Synchronization</h2>
  <p class="small">
    The application subscribes to Firestore using <code>onSnapshot</code>.
    Every connected client sees updates immediately.
  </p>
</div>

<div class="card">
  <h2>7. Admin Mode</h2>
  <p class="small">
    Admin mode is session-based and stored only in the browser.
    Unlocking admin enables destructive actions.
  </p>
  <ul class="small">
    <li>Import JSON</li>
    <li>Reset application state</li>
    <li>Undo last destructive action</li>
  </ul>
</div>

<div class="card">
  <h2>8. Undo System</h2>
  <p class="small">
    Before any destructive operation, the current state is copied to
    <code>state/undo</code>. Undo restores that snapshot back to <code>state/main</code>.
  </p>
</div>

<div class="card">
  <h2>9. Design Decisions</h2>
  <ul class="small">
    <li>Single-document state simplifies reasoning</li>
    <li>No user accounts reduce friction</li>
    <li>Firestore chosen for real-time capability</li>
    <li>ES Modules for clean dependency loading</li>
  </ul>
</div>